(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},79:function(e,t,s){},80:function(e,t,s){},81:function(e,t,s){},82:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),i=s.n(n),c=s(32),r=s.n(c),o=(s(39),s(3)),l=s(8),m=(s(40),s(4)),h=s(5),d=s(7),u=s(6),j=(s(41),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(m.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"mainPage",children:[Object(a.jsx)("h1",{className:"mainPage__title",children:"FirstEdition"}),Object(a.jsxs)("div",{className:"mainPage__link-container",children:[Object(a.jsx)(o.b,{to:"/signup",className:"mainPage__link",children:"Sign Up"}),Object(a.jsx)(o.b,{to:"/login",className:"mainPage__link",children:"Log In"})]}),Object(a.jsx)(o.b,{to:"/home",className:"mainPage__link",children:"Continue as guest"})]})}}]),s}(n.Component)),b=s(2),p=s.n(b),x=(s(64),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={loginError:!1},e.handleLogin=function(t){t.preventDefault(),p.a.post("/login",{username:t.target.username.value,password:t.target.password.value}).then((function(t){t.data.failure?e.setState({loginError:!0}):(sessionStorage.setItem("authToken",t.data.token),e.props.history.push("/home"))}))},e}return Object(h.a)(s,[{key:"render",value:function(){return this.state.loginError?Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("h1",{className:"login__title",children:"Log In"}),Object(a.jsxs)("form",{onSubmit:this.handleLogin,className:"login__form",children:[Object(a.jsx)("input",{type:"text",name:"username",placeholder:"username",className:"login__text"}),Object(a.jsx)("label",{className:"login__error",children:"Make sure username and password are correct"}),Object(a.jsx)("input",{type:"password",name:"password",placeholder:"password",className:"login__text"}),Object(a.jsx)("button",{type:"submit",className:"login__button",children:"Submit"})]})]}):Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("h1",{className:"login__title",children:"Log In"}),Object(a.jsxs)("form",{onSubmit:this.handleLogin,className:"login__form",children:[Object(a.jsx)("input",{type:"text",name:"username",placeholder:"username",className:"login__text"}),Object(a.jsx)("input",{type:"password",name:"password",placeholder:"password",className:"login__text"}),Object(a.jsx)("button",{type:"submit",className:"login__button",children:"Submit"})]})]})}}]),s}(n.Component)),_=(s(65),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={signupError:!1},e.handleSignup=function(t){t.preventDefault(),t.target.username.value.length&&t.target.name.value.length&&t.target.password.value.length?p.a.post("/signup",{username:t.target.username.value,name:t.target.name.value,password:t.target.password.value}).then((function(s){s.data.failure?e.setState({signupError:!0}):setTimeout((function(){p.a.post("/login",{username:t.target.username.value,password:t.target.password.value}).then((function(e){sessionStorage.setItem("authToken",e.data.token)})).then(setTimeout((function(){e.props.history.push("/profile")}),1e3))}),2e3)})):e.setState({signupError:!0})},e}return Object(h.a)(s,[{key:"render",value:function(){return this.state.signupError?Object(a.jsxs)("div",{className:"signup",children:[Object(a.jsx)("h1",{className:"signup__title",children:"Sign Up"}),Object(a.jsxs)("form",{onSubmit:this.handleSignup,className:"signup__form",children:[Object(a.jsx)("input",{type:"text",name:"username",placeholder:"Username",className:"signup__text"}),Object(a.jsx)("label",{className:"signup__error",children:"Username taken, try something else"}),Object(a.jsx)("input",{type:"text",name:"name",placeholder:"Name",className:"signup__text"}),Object(a.jsx)("input",{type:"password",name:"password",placeholder:"Password",className:"signup__text"}),Object(a.jsx)("button",{type:"submit",className:"signup__button",children:"Submit"})]})]}):Object(a.jsxs)("div",{className:"signup",children:[Object(a.jsx)("h1",{className:"signup__title",children:"Sign Up"}),Object(a.jsxs)("form",{onSubmit:this.handleSignup,className:"signup__form",children:[Object(a.jsx)("input",{type:"text",name:"username",placeholder:"Username",className:"signup__text"}),Object(a.jsx)("input",{type:"text",name:"name",placeholder:"Name",className:"signup__text"}),Object(a.jsx)("input",{type:"password",name:"password",placeholder:"Password",className:"signup__text"}),Object(a.jsx)("button",{type:"submit",className:"signup__button",children:"Submit"})]})]})}}]),s}(n.Component)),O=(s(66),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={username:!1},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("authToken");null!==t&&p.a.get("/profile",{headers:{authorization:"Bearer ".concat(t)}}).then((function(t){return e.setState({username:t.data.username})}))}},{key:"render",value:function(){var e=this;return this.state.username?Object(a.jsxs)("div",{className:"nav",children:[Object(a.jsx)(o.b,{to:"/home",className:"nav__title",children:"FirstEdition"}),Object(a.jsxs)("div",{className:"nav__parent-container",children:[Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.props.history.history.push("/search/".concat(t.target.search.value))},className:"nav__form",children:[Object(a.jsx)("input",{type:"text",name:"search",className:"nav__form-text"}),Object(a.jsx)("button",{type:"submit",className:"nav__form-button",children:"Search"})]}),Object(a.jsxs)("div",{className:"nav__link-container",children:[Object(a.jsx)(o.b,{to:"/home",className:"nav__link",children:"Home"}),Object(a.jsx)(o.b,{to:"/profile",className:"nav__link",children:"Profile"}),Object(a.jsx)(o.b,{to:"/add",className:"nav__link",children:"Add a story"}),Object(a.jsx)("p",{onClick:function(){sessionStorage.removeItem("authToken"),e.props.history.history.push("/")},className:"nav__link",children:"Log Out"})]})]})]}):Object(a.jsxs)("div",{className:"nav",children:[Object(a.jsx)(o.b,{to:"/home",className:"nav__title",children:"FirstEdition"}),Object(a.jsxs)("div",{className:"nav__parent-container",children:[Object(a.jsxs)("form",{className:"nav__form",children:[Object(a.jsx)("input",{type:"text",name:"search",className:"nav__form-text"}),Object(a.jsx)("button",{type:"submit",className:"nav__form-button",children:"Search"})]}),Object(a.jsxs)("div",{className:"nav__link-container",children:[Object(a.jsx)(o.b,{to:"/home",className:"nav__link",children:"Home"}),Object(a.jsx)(o.b,{to:"/signup",className:"nav__link",children:"Sign Up"}),Object(a.jsx)(o.b,{to:"/login",className:"nav__link",children:"Log In"})]})]})]})}}]),s}(n.Component)),f=(s(67),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={username:void 0,name:void 0},e.handleSubmit=function(t){t.preventDefault(),p.a.put("/user",{username:e.state.username,name:e.state.name,info:t.target.info.value,content:t.target.content.value}).then(e.props.history.push("/profile"))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("authToken");null!==t&&p.a.get("/profile",{headers:{authorization:"Bearer ".concat(t)}}).then((function(t){return e.setState({username:t.data.username,name:t.data.findName})}))}},{key:"render",value:function(){return this.state.username&&this.state.name?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("div",{className:"editProfile",children:[Object(a.jsx)("p",{className:"editProfile__title",children:this.state.username}),Object(a.jsx)("p",{className:"editProfile__subtitle",children:this.state.name}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:"editProfile__form",children:[Object(a.jsx)("label",{className:"editProfile__label",children:"Tell us a little something about yourself"}),Object(a.jsx)("br",{}),Object(a.jsx)("textarea",{type:"textbox",name:"info",className:"editProfile__input"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"editProfile__label",children:"What's your favorite creative content, anything from authors to movie titles"}),Object(a.jsx)("br",{}),Object(a.jsx)("textarea",{type:"textbox",name:"content",className:"editProfile__input"}),Object(a.jsx)("button",{type:"submit",className:"editProfile__button",children:"Submit"})]})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{}),Object(a.jsx)("div",{className:"loginError",children:"Please login or signup to view this page"})]})}}]),s}(n.Component)),v=(s(68),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={stories:{},min:0,max:5},e.spliceStory=function(t){for(var s=[],a=0;a<e.state.stories.length;a++)a<e.state.max&&a>=e.state.min&&s.push(t[a]);return s},e.forward=function(){e.state.stories.length-e.state.max>0&&e.setState({min:e.state.min+5,max:e.state.max+5})},e.backward=function(){e.state.min>0&&e.setState({min:e.state.min-5,max:e.state.max-5})},e.handleFilter=function(t){t.preventDefault(),p.a.get("/filter/".concat(t.target.filter.value.toLowerCase())).then((function(t){e.setState({stories:t.data.reverse()})})).then(t.target.reset())},e.handleReset=function(){p.a.get("/story").then((function(t){e.setState({stories:t.data.reverse()})}))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/story").then((function(t){e.setState({stories:t.data.reverse()})}))}},{key:"render",value:function(){return this.state.stories.length?Object(a.jsxs)("div",{className:"home",children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("form",{onSubmit:this.handleFilter,className:"home__form",children:[Object(a.jsx)("input",{type:"text",name:"filter",placeholder:"Filter by Genre",className:"home__form-text"}),Object(a.jsx)("button",{type:"submit",className:"home__form-button",children:"Submit"})]}),Object(a.jsx)("button",{onClick:this.handleReset,className:"home__reset",children:"Reset Filter"}),Object(a.jsxs)("div",{className:"home__content--main-container",children:[this.spliceStory(this.state.stories).map((function(e){return Object(a.jsxs)("div",{className:"home__content-container",children:[Object(a.jsxs)("div",{className:"home__content",children:[Object(a.jsx)(o.b,{to:"/story/"+e.id,className:"home__title-link",children:Object(a.jsx)("h2",{className:"home__title",children:e.title})}),Object(a.jsx)(o.b,{to:"/user/"+e.username,className:"home__user-link",children:Object(a.jsxs)("p",{className:"home__user",children:[" Written by:  ",e.username]})}),Object(a.jsx)("p",{className:"home__timestamp",children:new Date(e.created).toDateString()}),Object(a.jsx)("p",{className:"home__genre",children:e.genre})]}),Object(a.jsx)("div",{className:"home__info-container",children:Object(a.jsxs)("p",{className:"home__likes",children:[e.liked," likes"]})})]},e.id)}))," "]}),Object(a.jsxs)("div",{className:"home__nav",children:[Object(a.jsx)("p",{onClick:this.backward,className:"home__nav-button",children:"<"}),Object(a.jsx)("p",{onClick:this.forward,className:"home__nav-button",children:">"})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{}),Object(a.jsx)("div",{children:"Loading.."})]})}}]),s}(n.Component)),N=(s(69),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={story:!1,comments:!1,username:!1,likes:!1},e.handleLike=function(t){t.preventDefault();var s=e.props.match.params.storyId;p.a.post("/like/".concat(s),{username:e.state.username}).then((function(t){e.setState({story:t.data,likes:JSON.parse(t.data.likes)})}))},e.handleUnlike=function(t){t.preventDefault();var s=e.props.match.params.storyId;p.a.delete("/like/".concat(s),{username:e.state.username}).then((function(t){e.setState({story:t.data,likes:JSON.parse(t.data.likes)})}))},e.handleComment=function(t){t.preventDefault();var s=e.props.match.params.storyId;p.a.post("/comment/"+s,{username:e.state.username,text:t.target.text.value}).then(setTimeout((function(){p.a.get("/comments/"+s).then((function(t){e.setState({comments:t.data})}))}),500))},e.handleDelete=function(t){t.preventDefault(),p.a.delete("/comments/".concat(t.target.comment.value),{data:{username:e.state.username}}).then(setTimeout((function(){p.a.get("/comments/".concat(e.props.match.params.storyId)).then((function(t){e.setState({comments:t.data})}))}),500))},e.handleCommentLike=function(t){t.preventDefault();var s=e.props.match.params.storyId;p.a.post("/comment/like/".concat(t.target.comment.value),{username:e.state.username}).then(setTimeout((function(){p.a.get("/comments/".concat(s)).then((function(t){e.setState({comments:t.data.reverse()})}))}),500))},e.handleCommentUnlike=function(t){t.preventDefault();var s=e.props.match.params.storyId;p.a.delete("/comment/like/".concat(t.target.comment.value),{username:e.state.username}).then(setTimeout((function(){p.a.get("/comments/".concat(s)).then((function(t){e.setState({comments:t.data.reverse()})}))}),500))},e.comments=function(){return e.state.comments&&0!==e.state.comments.length?Object(a.jsx)("div",{className:"comments__container",children:e.state.comments.map((function(t){var s=JSON.parse(t.liked);return t.username===e.state.username&&-1===s.findIndex((function(t){return t===e.state.username}))?Object(a.jsxs)("div",{className:"comments__sub-container",children:[Object(a.jsxs)("div",{className:"comments__title-container",children:[Object(a.jsx)("h3",{className:"comments__title",children:t.username}),Object(a.jsx)("p",{className:"comments__timestamp",children:t.timestamp})]}),Object(a.jsx)("p",{className:"comments__text",children:t.text}),Object(a.jsx)("div",{className:"comments__like-container",children:Object(a.jsx)("p",{className:"comments__likes",children:t.likes})}),Object(a.jsx)("form",{onSubmit:e.handleDelete,children:Object(a.jsx)("button",{name:"comment",value:t.id,type:"submit",className:"comments__button",children:" DElETE YOUR COMMENT"})}),Object(a.jsx)("form",{onSubmit:e.handleCommentLike,children:Object(a.jsx)("button",{type:"submit",name:"comment",value:t.id,className:"comments__button",children:"Like"})})]},t.timestamp):t.username===e.state.username&&-1!==s.findIndex((function(t){return t===e.state.username}))?Object(a.jsxs)("div",{className:"comments__sub-container",children:[Object(a.jsxs)("div",{className:"comments__title-container",children:[Object(a.jsx)("h3",{className:"comments__title",children:t.username}),Object(a.jsx)("p",{className:"comments__timestamp",children:t.timestamp})]}),Object(a.jsx)("p",{className:"comments__text",children:t.text}),Object(a.jsx)("div",{className:"comments__like-container",children:Object(a.jsx)("p",{className:"comments__likes",children:t.likes})}),Object(a.jsx)("form",{onSubmit:e.handleDelete,children:Object(a.jsx)("button",{name:"comment",value:t.id,type:"submit",className:"comments__button",children:" DElETE YOUR COMMENT"})}),Object(a.jsx)("form",{onSubmit:e.handleCommentUnlike,children:Object(a.jsx)("button",{type:"submit",name:"comment",value:t.id,className:"comments__button",children:"Unlike"})})]},t.timestamp):t.username!==e.state.username&&-1===s.findIndex((function(t){return t===e.state.username}))?Object(a.jsxs)("div",{className:"comments__sub-container",children:[Object(a.jsxs)("div",{className:"comments__title-container",children:[Object(a.jsx)("h3",{className:"comments__title",children:t.username}),Object(a.jsx)("p",{className:"comments__timestamp",children:t.timestamp})]}),Object(a.jsx)("p",{className:"comments__text",children:t.text}),Object(a.jsx)("div",{className:"comments__like-container",children:Object(a.jsx)("p",{className:"comments__likes",children:t.likes})}),Object(a.jsx)("form",{onSubmit:e.handleCommentLike,children:Object(a.jsx)("button",{type:"submit",name:"comment",value:t.id,className:"comments__button",children:"Like"})})]},t.timestamp):t.username!==e.state.username&&-1!==s.findIndex((function(t){return t===e.state.username}))?Object(a.jsxs)("div",{className:"comments__sub-container",children:[Object(a.jsxs)("div",{className:"comments__title-container",children:[Object(a.jsx)("h3",{className:"comments__title",children:t.username}),Object(a.jsx)("p",{className:"comments__timestamp",children:t.timestamp})]}),Object(a.jsx)("p",{className:"comments__text",children:t.text}),Object(a.jsx)("div",{className:"comments__like-container",children:Object(a.jsx)("p",{className:"comments__likes",children:t.likes})}),Object(a.jsx)("form",{onSubmit:e.handleCommentUnlike,children:Object(a.jsx)("button",{type:"submit",name:"comment",value:t.id,className:"comments__button",children:"Unlike"})})]},t.timestamp):Object(a.jsxs)("div",{className:"comments__sub-container",children:[Object(a.jsxs)("div",{className:"comments__title-container",children:[Object(a.jsx)("h3",{className:"comments__title",children:t.username}),Object(a.jsx)("p",{className:"comments__timestamp",children:t.timestamp})]}),Object(a.jsx)("p",{className:"comments__text",children:t.text}),Object(a.jsx)("div",{className:"comments__like-container",children:Object(a.jsx)("p",{className:"comments__likes",children:t.likes})})]},t.timestamp)}))}):e.state.comments&&0===e.state.comments.length?Object(a.jsx)("div",{className:"comments__empty",children:Object(a.jsx)("div",{children:"No Comments posted yet"})}):Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:"...Loading"})})},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.storyId,s=sessionStorage.getItem("authToken");null!==s&&p.a.get("/profile",{headers:{authorization:"Bearer ".concat(s)}}).then((function(t){e.setState({username:t.data.username})})),p.a.all([p.a.get("/"+t),p.a.get("/comments/".concat(t))]).then((function(t){e.setState({story:t[0].data,comments:t[1].data.reverse(),likes:JSON.parse(t[0].data.likes)})}))}},{key:"render",value:function(){var e=this;return this.state.username&&this.state.likes&&-1===this.state.likes.findIndex((function(t){return t===e.state.username}))?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("div",{className:"story",children:[Object(a.jsx)("h1",{className:"story__title",children:this.state.story.title}),Object(a.jsxs)("p",{className:"story__sub-title",children:["By ",Object(a.jsx)(o.b,{to:"/user/"+this.state.story.username,className:"user__link",children:this.state.story.username})]}),Object(a.jsx)("p",{className:"story__text",children:this.state.story.text}),Object(a.jsx)("form",{onSubmit:this.handleLike,className:"story__like-form",children:Object(a.jsx)("button",{type:"submit",className:"story__like--button",children:"Like"})}),Object(a.jsxs)("p",{className:"story__likes",children:[this.state.story.liked," Likes"]}),Object(a.jsxs)("form",{onSubmit:this.handleComment,className:"story__comments-form",children:[Object(a.jsx)("label",{className:"story__comment-title",children:"Add a Comment"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"story__comment-label",children:this.state.username}),Object(a.jsx)("input",{type:"textbox",name:"text",placeholder:"Add your comment here",className:"story__comment-input"}),Object(a.jsx)("button",{type:"submit",className:"story__comment-button",children:"Submit"})]}),Object(a.jsx)("div",{className:"story__comments",children:this.comments()}),Object(a.jsx)(o.b,{to:"/edit/"+this.state.story.id,className:"story__edit-link",children:Object(a.jsx)("button",{className:"story__edit-button",children:"Edit"})})]})]}):this.state.username&&this.state.story&&this.state.likes&&-1!==this.state.likes.findIndex((function(t){return t===e.state.username}))?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("div",{className:"story",children:[Object(a.jsx)("h1",{className:"story__title",children:this.state.story.title}),Object(a.jsxs)("p",{className:"story__sub-title",children:["By ",Object(a.jsx)(o.b,{to:"/user/"+this.state.story.username,className:"user__link",children:this.state.story.username})]}),Object(a.jsx)("p",{className:"story__text",children:this.state.story.text}),Object(a.jsx)("form",{onSubmit:this.handleUnlike,className:"story__like-form",children:Object(a.jsx)("button",{type:"submit",className:"story__like--button",children:"Unlike"})}),Object(a.jsxs)("p",{className:"story__likes",children:[this.state.story.liked," Likes"]}),Object(a.jsxs)("form",{onSubmit:this.handleComment,className:"story__comments-form",children:[Object(a.jsx)("label",{className:"story__comment-title",children:"Add a Comment"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"story__comment-label",children:this.state.username}),Object(a.jsx)("input",{type:"textbox",name:"text",placeholder:"Add your comment here",className:"story__comment-input"}),Object(a.jsx)("button",{type:"submit",className:"story__comment-button",children:"Submit"})]}),Object(a.jsx)("div",{className:"story__comments",children:this.comments()})]})]}):this.state.story&&!this.state.username?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("div",{className:"story",children:[Object(a.jsx)("h1",{className:"story__title",children:this.state.story.title}),Object(a.jsxs)("p",{className:"story__sub-title",children:["By ",Object(a.jsx)(o.b,{to:"/user/"+this.state.story.username,className:"user__link",children:this.state.story.username})]}),Object(a.jsx)("p",{className:"story__text",children:this.state.story.text}),Object(a.jsxs)("p",{className:"story__likes",children:[this.state.story.liked," Likes"]}),Object(a.jsx)("div",{className:"story__comments",children:this.comments()})]})]}):Object(a.jsx)("div",{children:"Loading"})}}]),s}(n.Component)),y=(s(70),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={userInfo:!1,userStories:!1},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.user;p.a.all([p.a.get("/user/".concat(t)),p.a.get("/story/".concat(t))]).then((function(t){e.setState({userInfo:t[0].data,userStories:t[1].data})}))}},{key:"render",value:function(){return this.state.userInfo&&!this.state.userStories.failure?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("div",{className:"user",children:[Object(a.jsx)("h1",{className:"user__title",children:this.state.userInfo.username}),Object(a.jsx)("p",{className:"user__sub-title",children:this.state.userInfo.name}),Object(a.jsx)("p",{className:"user__content",children:this.state.userInfo.info}),Object(a.jsx)("p",{className:"user__content",children:this.state.userInfo.content}),this.state.userStories.map((function(e){return Object(a.jsxs)("div",{className:"user__story",children:[Object(a.jsxs)("div",{className:"user__story-container",children:[Object(a.jsx)(o.b,{to:"/story/"+e.id,className:"user__story--link",children:Object(a.jsx)("h2",{className:"user__story--title",children:e.title})}),Object(a.jsx)("p",{className:"user__story--content",children:e.username}),Object(a.jsx)("p",{className:"user__story--content",children:new Date(e.created).toDateString()}),Object(a.jsx)("p",{className:"user__story--content",children:e.genre})]}),Object(a.jsx)("div",{className:"user__story-info-container",children:Object(a.jsxs)("p",{className:"user__story--info",children:[e.liked," likes"]})})]},e.id)}))]})]}):this.state.userInfo?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("div",{className:"user",children:[Object(a.jsx)("h1",{className:"user__title",children:this.state.userInfo.username}),Object(a.jsx)("p",{className:"user__sub-title",children:this.state.userInfo.name}),Object(a.jsx)("p",{className:"user__content",children:this.state.userInfo.info}),Object(a.jsx)("p",{className:"user__content",children:this.state.userInfo.content}),Object(a.jsx)("div",{className:"user__content",children:"This user has not yet posted any stories"})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsx)("div",{className:"loginError",children:"This user does not exist"})]})}}]),s}(n.Component)),g=(s(71),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={username:void 0},e.handleSubmit=function(t){t.preventDefault(),p.a.post("/story",{username:e.state.username,title:t.target.title.value,text:t.target.text.value,genre:t.target.genre.value}).then(setTimeout((function(){e.props.history.push("/home")}),500))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("authToken");null!==t&&p.a.get("/profile",{headers:{authorization:"Bearer ".concat(t)}}).then((function(t){return e.setState({username:t.data.username})}))}},{key:"render",value:function(){return this.state.username?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:"add",children:[Object(a.jsx)("label",{className:"add__title",children:"Title"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",name:"title",placeholder:"Title",className:"add__input"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"add__title",children:"Genre"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",name:"genre",placeholder:"Genre",className:"add__input"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"add__title",children:"Enter your Story Here!"}),Object(a.jsx)("br",{}),Object(a.jsx)("textarea",{type:"textbox",name:"text",placeholder:"Start Typing!",className:"add__text"}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{type:"submit",className:"add__button",children:"Submit"})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsx)("div",{className:"loginError",children:"Please login or signup to view this page"})]})}}]),s}(n.Component)),k=(s(72),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={title:!1,username:!1,text:!1,editor:!1,loginInfo:!1},e.onChange=function(t){e.setState({text:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),p.a.post("/edit",{username:e.state.username,title:e.state.title,text:t.target.text.value,editor:e.state.loginInfo}).then(e.props.history.push("/home"))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.storyId,s=sessionStorage.getItem("authToken");null!==s&&p.a.get("/profile",{headers:{authorization:"Bearer ".concat(s)}}).then((function(t){e.setState({loginInfo:t.data.username})})),p.a.get("/"+t).then((function(t){e.setState({title:t.data.title,username:t.data.username,text:t.data.text})}))}},{key:"render",value:function(){return this.state.loginInfo?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:"edit",children:[Object(a.jsx)("label",{className:"edit__title",children:this.state.title}),Object(a.jsx)("label",{className:"edit__sub-title",children:this.state.username}),Object(a.jsx)("textarea",{type:"textarea",name:"text",onChange:this.onChange,value:this.state.text,className:"edit__text"}),Object(a.jsx)("button",{type:"submit",className:"edit__button",children:"Submit"})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{}),Object(a.jsx)("div",{className:"loginError",children:"Please login or signup to see this page"})]})}}]),s}(n.Component)),S=(s(73),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={username:!1,userStories:!1,edits:!1},e.getTitleEdits=function(t){for(var s=[],a=e.state.edits,n=0;n<a.length;n++)a[n].title===t.title&&s.push(a[n]);return s},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("authToken");null!==t&&p.a.get("/profile",{headers:{authorization:"Bearer ".concat(t)}}).then((function(t){e.setState({username:t.data.username}),p.a.get("/story/".concat(t.data.username)).then((function(t){e.setState({userStories:t.data})})),p.a.get("/edit/".concat(t.data.username)).then((function(t){e.setState({edits:t.data})}))}))}},{key:"render",value:function(){var e=this;return this.state.username&&this.state.userStories&&this.state.edits?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("div",{className:"userEdits",children:[Object(a.jsxs)("h1",{className:"userEdits__title",children:[this.state.username,"'s Edit page"]}),this.state.userStories.map((function(t){return e.getTitleEdits(t).length?Object(a.jsxs)(o.b,{to:"userEditTitle/"+t.title,className:"userEdits__success",children:[Object(a.jsx)("h3",{className:"userEdits__success--title",children:t.title}),Object(a.jsxs)("p",{className:"userEdits__success--content",children:[e.getTitleEdits(t).length," Edit(s)"]})]},t.id):Object(a.jsxs)("div",{className:"userEdits__failure",children:["No Edits for ",t.title]},t.id)}))]})]}):this.state.username?Object(a.jsx)("div",{children:"...Loading"}):Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsx)("div",{className:"loginError",children:"Please login or signup to see this page"})]})}}]),s}(n.Component)),E=(s(74),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={username:!1,storyId:!1,edits:!1},e.handleDelete=function(t){t.preventDefault(),p.a.delete("/edit/".concat(t.target.edit.value),{data:{username:e.state.username}}).then(setTimeout((function(){p.a.get("/edit/".concat(e.state.username,"/").concat(e.props.match.params.story)).then((function(t){e.setState({edits:t.data})}))}),500))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.story,s=sessionStorage.getItem("authToken");p.a.get("/profile",{headers:{authorization:"Bearer ".concat(s)}}).then((function(s){e.setState({username:s.data.username}),p.a.get("/edit/".concat(s.data.username,"/").concat(t)).then((function(t){e.setState({edits:t.data.reverse()})})),p.a.get("/findstory/".concat(s.data.username,"/").concat(t)).then((function(t){e.setState({storyId:t.data.id})}))}))}},{key:"render",value:function(){var e=this,t=this.props.match.params.story;return this.state.username&&this.state.edits&&this.state.storyId?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{}),Object(a.jsxs)("div",{className:"userEditTitle",children:[Object(a.jsxs)("h1",{className:"userEditTitle__title",children:[this.state.username,Object(a.jsx)("br",{})," ",t]}),this.state.edits.map((function(t){return Object(a.jsxs)("div",{className:"userEditTitle__link",children:[Object(a.jsxs)(o.b,{to:"/edited/"+e.state.storyId+"/"+t.id,className:"userEditTitle__link",children:[Object(a.jsx)("h3",{className:"userEditTitle__link--title",children:t.editor}),Object(a.jsx)("p",{className:"userEditTitle__link--content",children:new Date(t.created).toDateString()}),Object(a.jsxs)("p",{className:"userEditTitle__link--content",children:[" ",t.editorLikes," Editor Likes"]})]}),Object(a.jsx)("form",{onSubmit:e.handleDelete,children:Object(a.jsx)("button",{type:"submit",name:"edit",value:t.id,className:"userEditTitle__delete",children:"DELETE EDIT"})})]},t.id)}))]})]}):this.state.edits?Object(a.jsx)("div",{className:"loginError",children:"Please Sign up or Log in to see this page"}):Object(a.jsx)("div",{className:"userEditTitle",children:"No Edits Here"})}}]),s}(n.Component)),I=s(22),D=(s(79),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={story:!1,edit:!1,liked:!1,editId:!1,username:!1},e.handleLike=function(t){t.preventDefault(),p.a.post("/edit/like/".concat(e.state.editId),{username:e.state.username}).then((function(t){e.setState({liked:JSON.parse(t.data.likes)})}))},e.handleUnlike=function(t){t.preventDefault(),p.a.delete("/edit/like/".concat(e.state.editId),{username:e.state.username}).then((function(t){e.setState({liked:JSON.parse(t.data.likes)})}))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.story,s=this.props.match.params.edit,a=sessionStorage.getItem("authToken");null!==a&&p.a.get("/profile",{headers:{authorization:"Bearer ".concat(a)}}).then((function(t){e.setState({username:t.data.username})})),p.a.all([p.a.get("/".concat(t)),p.a.get("/edited/".concat(s))]).then((function(t){e.setState({story:t[0].data.text,edit:t[1].data.text,liked:JSON.parse(t[1].data.likes),editId:t[1].data.id})}))}},{key:"render",value:function(){var e=this;return this.state.story&&this.state.edit&&-1===this.state.liked.findIndex((function(t){return t===e.state.username}))?Object(a.jsxs)("div",{className:"singleEdit",children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsx)(I.a,{inputA:this.state.story,inputB:this.state.edit,type:"chars",className:"difference"}),Object(a.jsx)("form",{onSubmit:this.handleLike,children:Object(a.jsx)("button",{type:"submit",className:"singleEdit__like",children:"Like"})})]}):this.state.story&&this.state.edit&&-1!==this.state.liked.findIndex((function(t){return t===e.state.username}))?Object(a.jsxs)("div",{className:"singleEdit",children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsx)(I.a,{inputA:this.state.story,inputB:this.state.edit,type:"chars",className:"difference"}),Object(a.jsx)("form",{onSubmit:this.handleUnlike,children:Object(a.jsx)("button",{type:"submit",className:"singleEdit__like",children:"Unlike"})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsx)("div",{children:"...loading"})]})}}]),s}(n.Component)),T=(s(80),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={username:!1,name:!1,stories:!1,edits:!1},e.handleDelete=function(t){t.preventDefault(),p.a.delete("/story/".concat(t.target.story.value),{data:{username:e.state.username}}).then(setTimeout((function(){p.a.get("/story/".concat(e.state.username)).then((function(t){e.setState({stories:t.data})}))}),500))},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("authToken");null!==t&&p.a.get("/profile",{headers:{authorization:"Bearer ".concat(t)}}).then((function(t){e.setState({username:t.data.username,name:t.data.findName}),p.a.all([p.a.get("/story/".concat(t.data.username)),p.a.get("/edit/".concat(t.data.username))]).then((function(t){e.setState({stories:t[0].data,edits:t[1].data})}))}))}},{key:"render",value:function(){var e=this;return this.state.username&&this.state.name&&!this.state.stories.failure&&this.state.edits?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsx)("h1",{className:"profile__title",children:this.state.username}),Object(a.jsx)("h3",{className:"profile__sub-title",children:this.state.name}),Object(a.jsx)(o.b,{to:"/editProfile",className:"editProfile__button-link",children:Object(a.jsx)("button",{className:"editProfile__button",children:"Edit your Profile"})}),Object(a.jsx)("div",{className:"profile__content-container",children:this.state.stories.map((function(t){return Object(a.jsxs)("div",{className:"profile__story-container",children:[Object(a.jsxs)("div",{className:"profile__story-subcontainer",children:[Object(a.jsx)(o.b,{to:"/story/"+t.id,className:"profile__story-link",children:Object(a.jsx)("h2",{className:"profile__story-title",children:t.title})}),Object(a.jsxs)("p",{className:"profile__content",children:["Created by:  ",t.username]}),Object(a.jsx)("p",{className:"profile__content",children:new Date(t.created).toDateString()}),Object(a.jsx)("p",{className:"profile__content",children:t.genre})]}),Object(a.jsx)("div",{className:"profile__info-container",children:Object(a.jsxs)("p",{className:"profile__info",children:[t.liked," likes"]})}),Object(a.jsx)("form",{onSubmit:e.handleDelete,children:Object(a.jsx)("button",{className:"profile__delete",name:"story",type:"submit",value:t.id,children:"DELETE STORY"})})]},t.id)}))}),Object(a.jsx)("div",{className:"profile__edits",children:Object(a.jsxs)(o.b,{to:"/userEdits",className:"profile__edits-link",children:["You have ",this.state.edits.length," edit(s)"]})})]})]}):!this.state.stories||this.state.stories.failure?Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsx)("h1",{className:"profile__title",children:this.state.username}),Object(a.jsx)("h3",{className:"profile__sub-title",children:this.state.name}),Object(a.jsx)(o.b,{to:"/editProfile",className:"editProfile__button-link",children:Object(a.jsx)("button",{className:"editProfile__button",children:"Edit your Profile"})}),Object(a.jsx)("p",{className:"profile__content",children:"No stories yet"}),Object(a.jsx)("div",{className:"profile__edits",children:Object(a.jsxs)(o.b,{to:"/userEdits",className:"profile__edits-link",children:["You have ",this.state.edits.length," edit(s)"]})})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsx)("div",{className:"loginError",children:"Please sign up or log in to view this page"})]})}}]),s}(n.Component)),w=(s(81),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(m.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={searchUsers:!1,searchStories:!1},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.search;p.a.get("/search/".concat(t)).then((function(t){var s=t.data.shift();e.setState({searchUsers:s,searchStories:t.data})}))}},{key:"componentDidUpdate",value:function(e){var t=this,s=this.props.match.url,a=this.props.match.params.search;e.match.url!==s&&p.a.get("/search/".concat(a)).then((function(e){var s=e.data.shift();t.setState({searchUsers:s,searchStories:e.data})}))}},{key:"render",value:function(){return(this.state.searchUsers||this.state.searchStories)&&(this.state.searchUsers.length||this.state.searchStories.length)?Object(a.jsxs)("div",{className:"search",children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsx)("h2",{className:"search__title",children:"Stories"}),this.state.searchStories.map((function(e){return Object(a.jsx)(o.b,{to:"/story/"+e.id,className:"search__content",children:e.title},e.id)})),Object(a.jsx)("h2",{className:"search__title",children:"Users"}),this.state.searchUsers.map((function(e){return Object(a.jsx)(o.b,{to:"/user/"+e.username,className:"search__content",children:e.username},e.username)}))]}):this.state.searchUsers.length||this.state.searchStories.length?Object(a.jsx)("div",{children:"...loading"}):Object(a.jsxs)("div",{className:"search",children:[Object(a.jsx)(O,{history:this.props}),Object(a.jsx)("div",{className:"search__content",children:" Nothing seems to match your search criteria"})]})}}]),s}(n.Component));var C=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:j}),Object(a.jsx)(l.a,{path:"/login",component:x}),Object(a.jsx)(l.a,{path:"/signup",component:_}),Object(a.jsx)(l.a,{path:"/profile",component:T}),Object(a.jsx)(l.a,{path:"/editProfile",component:f}),Object(a.jsx)(l.a,{path:"/home",component:v}),Object(a.jsx)(l.a,{path:"/story/:storyId",exact:!0,component:N}),Object(a.jsx)(l.a,{path:"/user/:user",exact:!0,component:y}),Object(a.jsx)(l.a,{path:"/add",component:g}),Object(a.jsx)(l.a,{path:"/edit/:storyId",exact:!0,component:k}),Object(a.jsx)(l.a,{path:"/userEdits",component:S}),Object(a.jsx)(l.a,{path:"/userEditTitle/:story",exact:!0,component:E}),Object(a.jsx)(l.a,{path:"/edited/:story/:edit",exact:!0,component:D}),Object(a.jsx)(l.a,{path:"/search/:search",exact:!0,component:w})]})})})},P=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,83)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),i(e),c(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(C,{})}),document.getElementById("root")),P()}},[[82,1,2]]]);
//# sourceMappingURL=main.6e790fec.chunk.js.map